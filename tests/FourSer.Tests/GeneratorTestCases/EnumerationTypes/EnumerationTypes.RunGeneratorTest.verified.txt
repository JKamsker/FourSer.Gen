// <auto-generated/>
using System;
using System.Buffers.Binary;
using System.Collections.Generic;
using System.Linq;
using System.Runtime.CompilerServices;
using System.Text;
using FourSer.Contracts;
using System.IO;
using FourSer.Gen.Helpers;

namespace FourSer.Tests.GeneratorTestCases.EnumerationTypes;

public partial class EnumerationTypesPacket : ISerializable<EnumerationTypesPacket>
{
    public static int GetPacketSize(EnumerationTypesPacket obj)
    {
        var size = 0;
        size += sizeof(int); // Count size for Numbers
        size += obj.Numbers.Count * sizeof(int);
        size += sizeof(int); // Count size for Names
        foreach(var item in obj.Names) { size += StringEx.MeasureSize(item); }
        size += sizeof(int); // Count size for Data
        size += obj.Data.Count() * sizeof(byte);
        size += sizeof(int); // Count size for Data1
        size += obj.Data1.Count * sizeof(byte);
        size += sizeof(int); // Count size for Values
        size += obj.Values.Count * sizeof(float);
        size += sizeof(int); // Count size for UniqueIds
        size += obj.UniqueIds.Count * sizeof(long);
        size += sizeof(int); // Count size for ProcessingQueue
        size += obj.ProcessingQueue.Count * sizeof(ushort);
        size += sizeof(int); // Count size for ProcessingStack
        size += obj.ProcessingStack.Count * sizeof(uint);
        size += sizeof(int); // Count size for ArrayData
        size += obj.ArrayData.Length * sizeof(int);
        size += sizeof(int); // Count size for Measurements
        size += obj.Measurements.Count() * sizeof(double);
        size += sizeof(int); // Count size for Flags
        size += obj.Flags.Count * sizeof(bool);
        size += sizeof(int); // Count size for ObservableData
        size += obj.ObservableData.Count * sizeof(short);
        size += sizeof(int); // Count size for Characters
        size += obj.Characters.Count * sizeof(ushort);
        size += sizeof(int); // Count size for SortedValues
        size += obj.SortedValues.Count * sizeof(long);
        size += sizeof(byte); // Count size for SmallSet
        foreach(var item in obj.SmallSet) { size += StringEx.MeasureSize(item); }
        size += sizeof(ushort); // Count size for MediumQueue
        size += obj.MediumQueue.Count * sizeof(int);
        size += sizeof(int); // Count size for LargeBag
        size += obj.LargeBag.Count * sizeof(long);
        return size;
    }

<<<<<<< HEAD
    private EnumerationTypesPacket(System.Collections.Generic.List<int> numbers, System.Collections.Generic.ICollection<string> names, System.Collections.Generic.IEnumerable<byte> @data, System.Collections.Generic.List<byte> data1, System.Collections.Concurrent.ConcurrentBag<float> values, System.Collections.Generic.HashSet<long> uniqueIds, System.Collections.Generic.Queue<ushort> processingQueue, System.Collections.Generic.Stack<uint> processingStack, int[] arrayData, System.Collections.Generic.IList<double> measurements, System.Collections.ObjectModel.Collection<bool> flags, System.Collections.ObjectModel.ObservableCollection<short> observableData, System.Collections.Generic.LinkedList<ushort> characters, System.Collections.Generic.SortedSet<long> sortedValues, System.Collections.Generic.HashSet<string> smallSet, System.Collections.Generic.Queue<int> mediumQueue, System.Collections.Concurrent.ConcurrentBag<long> largeBag)
    {
        this.Numbers = numbers;
        this.Names = names;
        this.Data = @data;
        this.Data1 = data1;
        this.Values = values;
        this.UniqueIds = uniqueIds;
        this.ProcessingQueue = processingQueue;
        this.ProcessingStack = processingStack;
        this.ArrayData = arrayData;
        this.Measurements = measurements;
        this.Flags = flags;
        this.ObservableData = observableData;
        this.Characters = characters;
        this.SortedValues = sortedValues;
        this.SmallSet = smallSet;
        this.MediumQueue = mediumQueue;
        this.LargeBag = largeBag;
    }

    public EnumerationTypesPacket()
    {
        this.Numbers = default;
        this.Names = default;
        this.Data = default;
        this.Data1 = default;
        this.Values = default;
        this.UniqueIds = default;
        this.ProcessingQueue = default;
        this.ProcessingStack = default;
        this.ArrayData = default;
        this.Measurements = default;
        this.Flags = default;
        this.ObservableData = default;
        this.Characters = default;
        this.SortedValues = default;
        this.SmallSet = default;
        this.MediumQueue = default;
        this.LargeBag = default;
    }

    public static EnumerationTypesPacket Deserialize(System.ReadOnlySpan<byte> buffer, out int bytesRead)
    {
        var originalBuffer = buffer;
        var numbersCount = FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt32(ref buffer);
        var numbers = new System.Collections.Generic.List<int>((int)numbersCount);
        for (int i = 0; i < (int)numbersCount; i++)
        {
            numbers.Add(FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt32(ref buffer));
        }
        var namesCount = FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt32(ref buffer);
        var names = new System.Collections.Generic.List<string>((int)namesCount);
        for (int i = 0; i < (int)namesCount; i++)
        {
            names.Add(FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadString(ref buffer));
        }
        var @dataCount = FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt32(ref buffer);
        var @data = FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadBytes(ref buffer, (int)@dataCount);
        var data1Count = FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt32(ref buffer);
        var data1 = FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadBytes(ref buffer, (int)data1Count).ToList();
        var valuesCount = FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt32(ref buffer);
        var values = new System.Collections.Concurrent.ConcurrentBag<float>();
        for (int i = 0; i < (int)valuesCount; i++)
        {
            values.Add(FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadSingle(ref buffer));
        }
        var uniqueIdsCount = FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt32(ref buffer);
        var uniqueIds = new System.Collections.Generic.HashSet<long>((int)uniqueIdsCount);
        for (int i = 0; i < (int)uniqueIdsCount; i++)
        {
            uniqueIds.Add(FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt64(ref buffer));
        }
        var processingQueueCount = FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt32(ref buffer);
        var processingQueue = new System.Collections.Generic.Queue<ushort>((int)processingQueueCount);
        for (int i = 0; i < (int)processingQueueCount; i++)
        {
            processingQueue.Enqueue(FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadUInt16(ref buffer));
        }
        var processingStackCount = FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt32(ref buffer);
        var processingStack = new System.Collections.Generic.Stack<uint>((int)processingStackCount);
        for (int i = 0; i < (int)processingStackCount; i++)
        {
            processingStack.Push(FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadUInt32(ref buffer));
        }
        var arrayDataCount = FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt32(ref buffer);
        var arrayData = new int[(int)arrayDataCount];
        for (int i = 0; i < (int)arrayDataCount; i++)
        {
            arrayData[i] = FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt32(ref buffer);
        }
        var measurementsCount = FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt32(ref buffer);
        var measurements = new System.Collections.Generic.List<double>((int)measurementsCount);
        for (int i = 0; i < (int)measurementsCount; i++)
        {
            measurements.Add(FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadDouble(ref buffer));
        }
        var flagsCount = FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt32(ref buffer);
        var flags = new System.Collections.ObjectModel.Collection<bool>();
        for (int i = 0; i < (int)flagsCount; i++)
        {
            flags.Add(FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadBoolean(ref buffer));
        }
        var observableDataCount = FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt32(ref buffer);
        var observableData = new System.Collections.ObjectModel.ObservableCollection<short>();
        for (int i = 0; i < (int)observableDataCount; i++)
        {
            observableData.Add(FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt16(ref buffer));
        }
        var charactersCount = FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt32(ref buffer);
        var characters = new System.Collections.Generic.LinkedList<ushort>();
        for (int i = 0; i < (int)charactersCount; i++)
        {
            characters.AddLast(FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadUInt16(ref buffer));
        }
        var sortedValuesCount = FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt32(ref buffer);
        var sortedValues = new System.Collections.Generic.SortedSet<long>();
        for (int i = 0; i < (int)sortedValuesCount; i++)
        {
            sortedValues.Add(FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt64(ref buffer));
        }
        var smallSetCount = FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadByte(ref buffer);
        var smallSet = new System.Collections.Generic.HashSet<string>((int)smallSetCount);
        for (int i = 0; i < (int)smallSetCount; i++)
        {
            smallSet.Add(FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadString(ref buffer));
        }
        var mediumQueueCount = FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadUInt16(ref buffer);
        var mediumQueue = new System.Collections.Generic.Queue<int>((int)mediumQueueCount);
        for (int i = 0; i < (int)mediumQueueCount; i++)
        {
            mediumQueue.Enqueue(FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt32(ref buffer));
        }
        var largeBagCount = FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt32(ref buffer);
        var largeBag = new System.Collections.Concurrent.ConcurrentBag<long>();
        for (int i = 0; i < (int)largeBagCount; i++)
        {
            largeBag.Add(FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt64(ref buffer));
        }
        var obj = new EnumerationTypesPacket(numbers, names, @data, data1, values, uniqueIds, processingQueue, processingStack, arrayData, measurements, flags, observableData, characters, sortedValues, smallSet, mediumQueue, largeBag);
        bytesRead = originalBuffer.Length - buffer.Length;
=======
    public static EnumerationTypesPacket Deserialize(System.ReadOnlySpan<byte> data, out int bytesRead)
    {
        bytesRead = 0;
        var originalData = data;
        var obj = new EnumerationTypesPacket();
        var NumbersCount = FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt32(ref data);
        obj.Numbers = new System.Collections.Generic.List<int>(NumbersCount);
        for (int i = 0; i < NumbersCount; i++)
        {
            obj.Numbers.Add(FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt32(ref data));
        }
        var NamesCount = FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt32(ref data);
        var tempNames = new System.Collections.Generic.List<string>(NamesCount);
        for (int i = 0; i < NamesCount; i++)
        {
            tempNames.Add(FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadString(ref data));
        }
        obj.Names = tempNames;
        var DataCount = FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt32(ref data);
        obj.Data = FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadBytes(ref data, DataCount);
        var Data1Count = FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt32(ref data);
        obj.Data1 = FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadBytes(ref data, Data1Count).ToList();
        var ValuesCount = FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt32(ref data);
        var tempValues = new System.Collections.Concurrent.ConcurrentBag<float>();
        for (int i = 0; i < ValuesCount; i++)
        {
            tempValues.Add(FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadSingle(ref data));
        }
        obj.Values = tempValues;
        var UniqueIdsCount = FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt32(ref data);
        var tempUniqueIds = new System.Collections.Generic.HashSet<long>(UniqueIdsCount);
        for (int i = 0; i < UniqueIdsCount; i++)
        {
            tempUniqueIds.Add(FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt64(ref data));
        }
        obj.UniqueIds = tempUniqueIds;
        var ProcessingQueueCount = FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt32(ref data);
        var tempProcessingQueue = new System.Collections.Generic.Queue<ushort>(ProcessingQueueCount);
        for (int i = 0; i < ProcessingQueueCount; i++)
        {
            tempProcessingQueue.Enqueue(FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadUInt16(ref data));
        }
        obj.ProcessingQueue = tempProcessingQueue;
        var ProcessingStackCount = FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt32(ref data);
        var tempProcessingStack = new System.Collections.Generic.Stack<uint>(ProcessingStackCount);
        for (int i = 0; i < ProcessingStackCount; i++)
        {
            tempProcessingStack.Push(FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadUInt32(ref data));
        }
        obj.ProcessingStack = tempProcessingStack;
        var ArrayDataCount = FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt32(ref data);
        obj.ArrayData = new int[ArrayDataCount];
        for (int i = 0; i < ArrayDataCount; i++)
        {
            obj.ArrayData[i] = FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt32(ref data);
        }
        var MeasurementsCount = FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt32(ref data);
        var tempMeasurements = new System.Collections.Generic.List<double>(MeasurementsCount);
        for (int i = 0; i < MeasurementsCount; i++)
        {
            tempMeasurements.Add(FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadDouble(ref data));
        }
        obj.Measurements = tempMeasurements;
        var FlagsCount = FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt32(ref data);
        var tempFlags = new System.Collections.ObjectModel.Collection<bool>();
        for (int i = 0; i < FlagsCount; i++)
        {
            tempFlags.Add(FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadBoolean(ref data));
        }
        obj.Flags = tempFlags;
        var ObservableDataCount = FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt32(ref data);
        var tempObservableData = new System.Collections.ObjectModel.ObservableCollection<short>();
        for (int i = 0; i < ObservableDataCount; i++)
        {
            tempObservableData.Add(FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt16(ref data));
        }
        obj.ObservableData = tempObservableData;
        var CharactersCount = FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt32(ref data);
        var tempCharacters = new System.Collections.Generic.LinkedList<ushort>();
        for (int i = 0; i < CharactersCount; i++)
        {
            tempCharacters.AddLast(FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadUInt16(ref data));
        }
        obj.Characters = tempCharacters;
        var SortedValuesCount = FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt32(ref data);
        var tempSortedValues = new System.Collections.Generic.SortedSet<long>();
        for (int i = 0; i < SortedValuesCount; i++)
        {
            tempSortedValues.Add(FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt64(ref data));
        }
        obj.SortedValues = tempSortedValues;
        var SmallSetCount = FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadByte(ref data);
        var tempSmallSet = new System.Collections.Generic.HashSet<string>(SmallSetCount);
        for (int i = 0; i < SmallSetCount; i++)
        {
            tempSmallSet.Add(FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadString(ref data));
        }
        obj.SmallSet = tempSmallSet;
        var MediumQueueCount = FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadUInt16(ref data);
        var tempMediumQueue = new System.Collections.Generic.Queue<int>(MediumQueueCount);
        for (int i = 0; i < MediumQueueCount; i++)
        {
            tempMediumQueue.Enqueue(FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt32(ref data));
        }
        obj.MediumQueue = tempMediumQueue;
        var LargeBagCount = FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt32(ref data);
        var tempLargeBag = new System.Collections.Concurrent.ConcurrentBag<long>();
        for (int i = 0; i < LargeBagCount; i++)
        {
            tempLargeBag.Add(FourSer.Gen.Helpers.RoSpanReaderHelpers.ReadInt64(ref data));
        }
        obj.LargeBag = tempLargeBag;
        bytesRead = originalData.Length - data.Length;
>>>>>>> main
        return obj;
    }

    public static int Serialize(EnumerationTypesPacket obj, System.Span<byte> data)
    {
        var originalData = data;
        FourSer.Gen.Helpers.SpanWriterHelpers.WriteInt32(ref data, (int)obj.Numbers.Count);
        for (int i = 0; i < obj.Numbers.Count; i++)
        {
            FourSer.Gen.Helpers.SpanWriterHelpers.WriteInt32(ref data, (Int32)obj.Numbers[i]);
        }
        FourSer.Gen.Helpers.SpanWriterHelpers.WriteInt32(ref data, (int)obj.Names.Count());
        foreach (var item in obj.Names)
        {
            FourSer.Gen.Helpers.SpanWriterHelpers.WriteString(ref data, item);
        }
        FourSer.Gen.Helpers.SpanWriterHelpers.WriteInt32(ref data, (int)obj.Data.Count());
        FourSer.Gen.Helpers.SpanWriterHelpers.WriteBytes(ref data, obj.Data);
        FourSer.Gen.Helpers.SpanWriterHelpers.WriteInt32(ref data, (int)obj.Data1.Count);
        FourSer.Gen.Helpers.SpanWriterHelpers.WriteBytes(ref data, obj.Data1);
        FourSer.Gen.Helpers.SpanWriterHelpers.WriteInt32(ref data, (int)obj.Values.Count);
        foreach (var item in obj.Values)
        {
            FourSer.Gen.Helpers.SpanWriterHelpers.WriteSingle(ref data, (Single)item);
        }
        FourSer.Gen.Helpers.SpanWriterHelpers.WriteInt32(ref data, (int)obj.UniqueIds.Count);
        foreach (var item in obj.UniqueIds)
        {
            FourSer.Gen.Helpers.SpanWriterHelpers.WriteInt64(ref data, (Int64)item);
        }
        FourSer.Gen.Helpers.SpanWriterHelpers.WriteInt32(ref data, (int)obj.ProcessingQueue.Count);
        foreach (var item in obj.ProcessingQueue)
        {
            FourSer.Gen.Helpers.SpanWriterHelpers.WriteUInt16(ref data, (UInt16)item);
        }
        FourSer.Gen.Helpers.SpanWriterHelpers.WriteInt32(ref data, (int)obj.ProcessingStack.Count);
        foreach (var item in obj.ProcessingStack)
        {
            FourSer.Gen.Helpers.SpanWriterHelpers.WriteUInt32(ref data, (UInt32)item);
        }
        FourSer.Gen.Helpers.SpanWriterHelpers.WriteInt32(ref data, (int)obj.ArrayData.Length);
        for (int i = 0; i < obj.ArrayData.Length; i++)
        {
            FourSer.Gen.Helpers.SpanWriterHelpers.WriteInt32(ref data, (Int32)obj.ArrayData[i]);
        }
        FourSer.Gen.Helpers.SpanWriterHelpers.WriteInt32(ref data, (int)obj.Measurements.Count());
        foreach (var item in obj.Measurements)
        {
            FourSer.Gen.Helpers.SpanWriterHelpers.WriteDouble(ref data, (Double)item);
        }
        FourSer.Gen.Helpers.SpanWriterHelpers.WriteInt32(ref data, (int)obj.Flags.Count);
        foreach (var item in obj.Flags)
        {
            FourSer.Gen.Helpers.SpanWriterHelpers.WriteBoolean(ref data, (Boolean)item);
        }
        FourSer.Gen.Helpers.SpanWriterHelpers.WriteInt32(ref data, (int)obj.ObservableData.Count);
        foreach (var item in obj.ObservableData)
        {
            FourSer.Gen.Helpers.SpanWriterHelpers.WriteInt16(ref data, (Int16)item);
        }
        FourSer.Gen.Helpers.SpanWriterHelpers.WriteInt32(ref data, (int)obj.Characters.Count);
        foreach (var item in obj.Characters)
        {
            FourSer.Gen.Helpers.SpanWriterHelpers.WriteUInt16(ref data, (UInt16)item);
        }
        FourSer.Gen.Helpers.SpanWriterHelpers.WriteInt32(ref data, (int)obj.SortedValues.Count);
        foreach (var item in obj.SortedValues)
        {
            FourSer.Gen.Helpers.SpanWriterHelpers.WriteInt64(ref data, (Int64)item);
        }
        FourSer.Gen.Helpers.SpanWriterHelpers.WriteByte(ref data, (byte)obj.SmallSet.Count);
        foreach (var item in obj.SmallSet)
        {
            FourSer.Gen.Helpers.SpanWriterHelpers.WriteString(ref data, item);
        }
        FourSer.Gen.Helpers.SpanWriterHelpers.WriteUInt16(ref data, (ushort)obj.MediumQueue.Count);
        foreach (var item in obj.MediumQueue)
        {
            FourSer.Gen.Helpers.SpanWriterHelpers.WriteInt32(ref data, (Int32)item);
        }
        FourSer.Gen.Helpers.SpanWriterHelpers.WriteInt32(ref data, (int)obj.LargeBag.Count);
        foreach (var item in obj.LargeBag)
        {
            FourSer.Gen.Helpers.SpanWriterHelpers.WriteInt64(ref data, (Int64)item);
        }
        return originalData.Length - data.Length;
    }
}
